import streamlit as st
import random

# -------------------- Page Config --------------------
st.set_page_config(
    page_title="ØµØ­ØµØ­ ÙŠØ§ Ù†Ø´Ù…ÙŠ",
    page_icon="ğŸ‡¯ğŸ‡´",
    layout="wide"
)

# -------------------- CSS Styling --------------------
st.markdown("""
<style>
.stButton>button {
    width: 100%;
    border-radius: 20px;
    background-color: #CE1126;
    color: white;
    font-weight: bold;
    font-size: 16px;
}
.metric-box {
    padding: 15px;
    border-radius: 15px;
    background-color: #ffffff;
    box-shadow: 0px 4px 10px rgba(0,0,0,0.05);
    margin-bottom: 15px;
}
</style>
""", unsafe_allow_html=True)

# -------------------- Header --------------------
st.markdown(
    "<h1 style='text-align:center; color:#007A3D;'>ğŸ‡¯ğŸ‡´ ØµØ­ØµØ­ ÙŠØ§ Ù†Ø´Ù…ÙŠ</h1>",
    unsafe_allow_html=True
)
st.markdown(
    "<p style='text-align:center;'>Ù…Ø³ØªØ´Ø§Ø±Ùƒ Ø§Ù„ØµØ­ÙŠ Ø¨Ù„Ù‡Ø¬Ø© Ø£Ø±Ø¯Ù†ÙŠØ©.. Ø®ÙÙŠÙØŒ Ø°ÙƒÙŠØŒ ÙˆØ¨ÙÙŠØ¯Ùƒ</p>",
    unsafe_allow_html=True
)

st.divider()

# -------------------- Sidebar --------------------
with st.sidebar:
    st.header("ğŸ‘¤ Ù…Ù„ÙÙƒ Ø§Ù„ØµØ­ÙŠ")

    name = st.text_input("Ø´Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", "ÙŠØ§ Ù†Ø´Ù…ÙŠ")

    st.divider()
    st.header("ğŸ“Š ÙˆØ¶Ø¹Ùƒ Ø§Ù„ÙŠÙˆÙ…")

    water = st.select_slider(
        "ÙƒÙ… ÙƒØ§Ø³Ø© Ù…ÙŠ Ø´Ø±Ø¨ØªØŸ ğŸ’§",
        options=list(range(0, 16)),
        value=5
    )

    mansaf = st.radio(
        "Ø¶Ø§Ø±Ø¨ Ù…Ù†Ø³Ù Ø§Ù„ÙŠÙˆÙ…ØŸ ğŸ–",
        ["Ù„Ø£ØŒ Ø£Ù…ÙˆØ±ÙŠ ØªÙ…Ø§Ù…", "Ø¢Ù‡ ÙˆØ§Ù„Ù„Ù‡ØŒ ÙˆØ¹Ù„ÙŠÙ‡Ø§ Ø³Ù…Ù†Ø© Ø¨Ù„Ù‚Ø§ÙˆÙŠØ©"]
    )

    sleep = st.slider(
        "ÙƒÙ… Ø³Ø§Ø¹Ø© Ù†Ù…ØªØŸ ğŸ˜´",
        0, 12, 7
    )

# -------------------- Main Analysis --------------------
col1, col2 = st.columns([2, 1])

with col1:
    st.subheader(f"ğŸ” Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØµØ­ÙŠ â€“ {name}")

    if water < 6:
        st.error("ğŸ’§ Ø´Ø±Ø¨ Ø§Ù„Ù…ÙŠ Ø¹Ù†Ø¯Ùƒ Ù‚Ù„ÙŠÙ„ØŒ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø¯Ù‡ ØªØ±Ø·ÙŠØ¨. Ø§Ø´Ø±Ø¨ ÙƒØ§Ø³ØªÙŠÙ† Ù‡Ø³Ø§!")
    elif water >= 8:
        st.success("âœ… ÙƒÙÙˆ! Ø´Ø±Ø¨Ùƒ Ù„Ù„Ù…ÙŠ Ù…Ù…ØªØ§Ø²")

    if sleep < 6:
        st.warning("ğŸ˜´ Ù†ÙˆÙ…Ùƒ Ù‚Ù„ÙŠÙ„ØŒ Ø­Ø§ÙˆÙ„ ØªØ±ØªØ§Ø­ Ø£Ùˆ ØªØ§Ø®Ø° ØºÙÙˆØ©")
    else:
        st.success("ğŸ›Œ Ù†ÙˆÙ…Ùƒ Ù…Ù…ØªØ§Ø² Ø§Ù„ÙŠÙˆÙ…")

    if mansaf == "Ø¢Ù‡ ÙˆØ§Ù„Ù„Ù‡ØŒ ÙˆØ¹Ù„ÙŠÙ‡Ø§ Ø³Ù…Ù†Ø© Ø¨Ù„Ù‚Ø§ÙˆÙŠØ©":
        st.info(
            "ğŸ½ï¸ Ø§Ù„Ù…Ù†Ø³Ù Ø¹Ø²ØŒ Ø¨Ø³ ØªÙˆÙ‚Ù‘Ø¹ Ø®Ù…ÙˆÙ„. Ù…Ø´ÙŠ Ø®ÙÙŠÙ Ø£Ùˆ Ø´Ø§ÙŠ Ù…ÙŠØ±Ø§Ù…ÙŠØ© Ø¨ÙØ±Ù‚"
        )

    st.markdown("---")

    # -------------------- Grandma Remedy --------------------
    st.subheader("ğŸ‘µ ÙˆØµÙØ© Ø³ØªÙ‘ÙŠ")

    recipes = {
        "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² ğŸ§ ": "Ø¬ÙˆØ² ÙˆÙ„ÙˆØ² Ù†ÙŠÙ‘ + Ù…Ø¹Ù„Ù‚Ø© Ø¹Ø³Ù„ Ø¨Ù„Ø¯ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙŠÙ‚",
        "Ø±Ø´Ø­ Ø£Ùˆ Ù„ÙØ­Ø© ğŸ¤§": "Ø²Ù‡ÙˆØ±Ø§Øª Ø£Ùˆ Ù…ÙŠØ±Ø§Ù…ÙŠØ© Ø³Ø®Ù†Ø© Ù…Ø¹ Ù„ÙŠÙ…ÙˆÙ†",
        "ÙˆØ¬Ø¹ Ø¨Ø·Ù† ğŸ¤¢": "Ù†Ø¹Ù†Ø¹ Ù…ØºÙ„ÙŠ ÙˆØ±Ø§Ø­Ø©",
        "ØªÙˆØªØ± ÙˆÙ‚Ù„Ù‚ ğŸ˜–": "Ø¨Ø§Ø¨ÙˆÙ†Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… ÙˆØ§Ø¨Ø¹Ø¯ Ø¹Ù† Ø§Ù„ØªÙ„ÙÙˆÙ†"
    }

    choice = st.selectbox("Ø´Ùˆ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŸ", list(recipes.keys()))
    st.success(f"**Ø§Ù„Ù†ØµÙŠØ­Ø©:** {recipes[choice]}")

# -------------------- Quick Challenge --------------------
with col2:
    st.subheader("â±ï¸ ØªØ­Ø¯ÙŠ 100 Ø«Ø§Ù†ÙŠØ©")

    if st.button("ğŸ”¥ Ø£Ø¹Ø·ÙŠÙ†ÙŠ ØªØ­Ø¯ÙŠ"):
        challenges = [
            "Ø§Ø¹Ù…Ù„ 10 Ø¶ØºØ· ÙˆØ§Ø¹ØªØ¨Ø±Ù‡Ù… ØµØ¯Ù‚Ø© Ø¹Ù† ØµØ­ØªÙƒ ğŸ’ª",
            "Ø§Ù…Ø´ÙŠ Ø¯ÙˆØ±ØªÙŠÙ† Ø¨Ø§Ù„Ø¨ÙŠØª ÙˆØ®Ø° Ù†ÙØ³ Ø¹Ù…ÙŠÙ‚ ğŸŒ¬ï¸",
            "Ø§Ø´Ø±Ø¨ ÙƒØ§Ø³Ø© Ù…ÙŠ Ø¯ÙØ¹Ø© ÙˆØ­Ø¯Ø© ğŸ’§",
            "Ø§ÙØ±Ø¯ Ø¸Ù‡Ø±Ùƒ ÙˆØ¹Ø¯Ù‘Ù„ Ø¬Ù„Ø³ØªÙƒ ğŸ§â€â™‚ï¸"
        ]
        st.info(random.choice(challenges))

# -------------------- Energy Chart --------------------
st.divider()
st.subheader("ğŸ“ˆ Ù…Ø³ØªÙˆÙ‰ Ø·Ø§Ù‚ØªÙƒ Ø§Ù„ÙŠÙˆÙ…")

energy_level = (
    [30, 60, 90, 100, 70, 50, 40]
    if mansaf != "Ø¢Ù‡ ÙˆØ§Ù„Ù„Ù‡ØŒ ÙˆØ¹Ù„ÙŠÙ‡Ø§ Ø³Ù…Ù†Ø© Ø¨Ù„Ù‚Ø§ÙˆÙŠØ©"
    else [30, 50, 80, 30, 20, 25, 35]
)

st.line_chart(energy_level)
st.caption("Ø§Ù„Ù‡Ø¨ÙˆØ· Ø§Ù„Ù…ÙØ§Ø¬Ø¦ = ØºÙŠØ¨ÙˆØ¨Ø© Ø§Ù„Ù…Ù†Ø³Ù ğŸ˜‚")

# -------------------- Footer --------------------
st.markdown("---")
st.markdown(
    "<p style='text-align:center;'>Ø¯ÙŠØ± Ø¨Ø§Ù„Ùƒ Ø¹Ù„Ù‰ ØµØ­ØªÙƒ.. Ø§Ù„Ù†Ø´Ù…ÙŠ Ø§Ù„Ù‚ÙˆÙŠ Ø¨Ø¹Ø±Ù ÙŠÙ‡ØªÙ… Ø¨Ø­Ø§Ù„Ù‡ ğŸ‡¯ğŸ‡´</p>",
    unsafe_allow_html=True
)
